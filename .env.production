# Production Environment Configuration for AgentSystem Backend
# Copy this file and customize for your deployment environment

# ================================
# CORE APPLICATION SETTINGS
# ================================
NODE_ENV=production
DEBUG=false
LOG_LEVEL=info
PORT=8000

# ================================
# DATABASE CONFIGURATION
# ================================
# PostgreSQL connection string
DATABASE_URL=postgresql://agentsystem:CHANGE_THIS_PASSWORD@postgres:5432/agentsystem
DATABASE_POOL_SIZE=20
DATABASE_TIMEOUT=30000
DATABASE_SSL_MODE=prefer

# Database credentials (used by Docker Compose)
DB_PASSWORD=CHANGE_THIS_SECURE_PASSWORD
POSTGRES_DB=agentsystem
POSTGRES_USER=agentsystem

# ================================
# REDIS CONFIGURATION
# ================================
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_DB=0

# ================================
# CELERY CONFIGURATION
# ================================
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json

# ================================
# SECURITY CONFIGURATION
# ================================
# Generate secure random strings for these values
SESSION_SECRET=CHANGE_THIS_TO_32_CHARACTER_SECRET
ENCRYPTION_KEY=CHANGE_THIS_TO_32_CHARACTER_KEY
JWT_SECRET=CHANGE_THIS_JWT_SECRET_KEY
JWT_EXPIRY=24h

# Password hashing
BCRYPT_ROUNDS=12

# CORS Settings
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=3600000

# ================================
# AI PROVIDER CONFIGURATION
# ================================
# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_ORG_ID=

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# Google Gemini
GEMINI_API_KEY=your-gemini-api-key-here

# HuggingFace
HUGGINGFACE_TOKEN=your-huggingface-token-here

# OpenRouter (alternative)
OPENROUTER_API_KEY=sk-or-your-openrouter-key-here

# ================================
# EXTERNAL SERVICES
# ================================
# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@domain.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@yourdomain.com
SMTP_TLS=true

# ================================
# MONITORING & ANALYTICS
# ================================
# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn-here@sentry.io/project-id

# Prometheus Metrics
ENABLE_METRICS=true
PROMETHEUS_ENDPOINT=/metrics

# Application Monitoring
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_ADVANCED_LOGGING=true

# Analytics
ANALYTICS_ID=your-analytics-id
ENABLE_ANALYTICS=true

# ================================
# SSL/TLS CONFIGURATION
# ================================
SSL_CERT_PATH=/etc/ssl/certs/fullchain.pem
SSL_KEY_PATH=/etc/ssl/private/privkey.pem
FORCE_HTTPS=true

# ================================
# FILE STORAGE
# ================================
# Local storage
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10485760

# AWS S3 (optional)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=agentsystem-files

# ================================
# BACKUP CONFIGURATION
# ================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=agentsystem-backups

# ================================
# FEATURE FLAGS
# ================================
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_BETA_UI=false
ENABLE_API_VERSIONING=true
ENABLE_WEBSOCKETS=true

# ================================
# FLOWER MONITORING (Celery)
# ================================
FLOWER_USER=admin
FLOWER_PASSWORD=CHANGE_THIS_FLOWER_PASSWORD
FLOWER_PORT=5555

# ================================
# GRAFANA CONFIGURATION
# ================================
GRAFANA_PASSWORD=CHANGE_THIS_GRAFANA_PASSWORD
GRAFANA_PORT=3001

# ================================
# NGINX CONFIGURATION
# ================================
NGINX_CLIENT_MAX_BODY_SIZE=50M
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# ================================
# DEVELOPMENT/TESTING (Production: false)
# ================================
ENABLE_SOURCE_MAPS=false
ENABLE_PROFILING=false
ENABLE_DEBUG_TOOLBAR=false

# ================================
# COMPLIANCE & PRIVACY
# ================================
GDPR_COMPLIANCE=true
DATA_RETENTION_DAYS=365
COOKIE_CONSENT_REQUIRED=true
PRIVACY_POLICY_URL=https://yourdomain.com/privacy
TERMS_OF_SERVICE_URL=https://yourdomain.com/terms

# ================================
# DEPLOYMENT METADATA
# ================================
DEPLOYMENT_ENVIRONMENT=production
DEPLOYMENT_REGION=us-east-1
DEPLOYMENT_VERSION=2.0.0
BUILD_NUMBER=
COMMIT_SHA=

# CDN Configuration
CDN_URL=https://cdn.yourdomain.com
STATIC_ASSETS_URL=https://static.yourdomain.com

# ================================
# HEALTH CHECK CONFIGURATION
# ================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# ================================
# LOGGING CONFIGURATION
# ================================
LOG_FORMAT=json
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30
LOG_MAX_SIZE=100MB

# ================================
# PERFORMANCE TUNING
# ================================
# Gunicorn Workers
GUNICORN_WORKERS=4
GUNICORN_MAX_REQUESTS=1000
GUNICORN_TIMEOUT=30
GUNICORN_KEEPALIVE=2

# Memory Limits
MAX_MEMORY_USAGE=1GB
WORKER_MEMORY_LIMIT=512MB

# Connection Limits
MAX_CONNECTIONS=1000
CONNECTION_TIMEOUT=30

# ================================
# SECURITY HEADERS
# ================================
CONTENT_SECURITY_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=origin-when-cross-origin

# ================================
# IMPORTANT NOTES
# ================================
# 1. Change all passwords and secrets before deployment
# 2. Use strong, unique passwords for all services
# 3. Store sensitive values in secure secret management systems
# 4. Never commit this file with real values to version control
# 5. Use environment-specific configuration files
# 6. Regularly rotate secrets and API keys
# 7. Monitor for any unauthorized access attempts
# 8. Keep backups of configuration in secure location
